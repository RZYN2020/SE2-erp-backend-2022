# 用例文档

> #### 5A652 杨峥 何浩达 赵勇臻 张岳轩
>
> 最后更改于2022/7/XX

| 修改人员 | 日期     | 修改原因                                 | 版本号 |
| -------- | -------- | ---------------------------------------- | ------ |
| 何浩达   | 2022.7.3 | 添加设置岗位信息和员工打卡用例的用例描述 |        |
| 赵勇臻   | 2022.7.3 | 添加员工管理和制定工资单的用例描述       |        |
|          |          |                                          |        |

## 目录

[toc]

## 用例图

> 创建者：XXX
>
> 最后一次修改者：XXX
>
> 最后一次修改日期：2021/07/05

![use-case](https://seec-homework.oss-cn-shanghai.aliyuncs.com/201250178-ERP-USE-CASE.png)

## 用例描述

### 员工管理

> 最后一次修改者：赵勇臻
>
> 最后一次修改日期：2022/07/03

| 项目     | 内容描述                                                     |
| -------- | ------------------------------------------------------------ |
| ID       | ERP.Employee.Management                                      |
| 名称     | 员工管理功能。可以创建员工，并创建相应的User账户             |
| 参与者   | 人力资源管理人员                                             |
| 触发条件 | 人力资源管理人员进入员工管理页面，准备创建员工               |
| 前置条件 | 人力资源管理人员已经被识别和授权                             |
| 后置条件 | 更新系统中员工信息                                           |
| 正常流程 | 1. 系统显示员工管理页面，页面中有一个列表显示所有员工信息，右上角有一个新增员工的按键 <br>2. 用户点击按键<br>3. 用户输入新增员工的信息<br>4. 系统将添加员工信息并为员工创建账号 |
| 扩展流程 | 1a. 列表中每一个员工信息行旁都一个按键，点击后显示员工账户信息<br> |
| 特殊需求 | 4a. 员工账户信息中用户名唯一。                               |

### 制定工资单

> 最后一次修改者：赵勇臻
>
> 最后一次修改日期：2022/07/03

| 项目     | 内容描述                                                     |
| -------- | ------------------------------------------------------------ |
| ID       | ERP.Employee.makeSalarySheet                                 |
| 名称     | 制定工资单，人力资源管理人员为某一位员工制定工资单           |
| 参与者   | 人力资源管理人员                                             |
| 触发条件 | 人力资源管理人员进入工资单管理页面，准备进行制定工资单操作   |
| 前置条件 | 人力资源管理人员已经被识别和授权                             |
| 后置条件 | 更新系统中工资单信息                                         |
| 正常流程 | 1. 系统显示工资单管理页面，页面有一个制定工资单按键，并列出所有工资单<br/>2. 用户点击制定工资单，并选中要为哪个员工制定工资单<br>3. 系统自动生成该员工的工资单，并设置状态为待一级审批<br> |
| 扩展流程 | 2a. 选择员工时有一个下拉列表以供选择                         |
| 特殊需求 |                                                              |

### 设置岗位信息

> 最后一次修改者：何浩达
>
> 最后一次修改日期：2022/07/03

| 项目     | 内容描述                                                     |
| -------- | ------------------------------------------------------------ |
| ID       | ERP.Job.JobManagement                                        |
| 名称     | 设置岗位信息                                                 |
| 参与者   | 人力资源管理人员，目的是为每个岗位设置各自的薪酬相关的具体信息 |
| 触发条件 | 人力资源人员点击“岗位管理”页面的“操作”链接                   |
| 前置条件 | 人力资源人员已成功登录                                       |
| 后置条件 | 该岗位的薪酬相关的具体信息被成功重新设置                     |
| 正常流程 | 1. 人力资源人员点击“编辑”按钮进入编辑岗位信息<br>2. 系统弹出编辑信息的页面，包含可编辑信息的输入框<br/>3. 人力资源人员在相应的输入框内输入（或选择）想要设置的信息<br/>4. 如果点击取消，则页面直接消失并且该岗位的对应信息没有改变<br/>5. 如果点击确认，则对应岗位信息被成功修改，并提示修改成功 |

### 员工打卡

> 最后一次修改者：何浩达
>
> 最后一次修改日期：2022/07/03

| 项目     | 内容描述                                                     |
| -------- | ------------------------------------------------------------ |
| ID       | ERP.SignIn                                                   |
| 名称     | 员工打卡                                                     |
| 参与者   | 库存管理人员、销售人员、人力资源人员、财务人员，目的是使得员工在每个工作日都可以完成打卡 |
| 触发条件 | 员工点击主页面的左侧边栏下方的“打卡”按钮                     |
| 前置条件 | 员工已成功登录                                               |
| 后置条件 | 该员工的本月打卡天数加一                                     |
| 正常流程 | 1. 员工点击主页面左侧“打卡”按钮<br>2. 员工的当月打卡天数加一<br>3. 系统弹出弹窗提示“打卡成功” |



### 库存处理

| 项目     | 内容描述                                                     |
| -------- | :----------------------------------------------------------- |
| ID       | ERP.Inventory.Handing                                        |
| 名称     | 库存处理时生成相应单据，通过审批后进行处理，包括入库、出库或者赠送商品。从供应商那里进一批货或者销售后客户退一批货都是一次入库，入库单包含时间、操作员、入库类型（进货/买家退货）、这批商品的具体信息；为了减库存退掉一批已经从供应商那里进的货或者售出一批货都是一次出库， 出库单包含时间、操作员、出库类型（减库存/销售）、这批商品的具体信息；当实际库房中的商品数量比系统中的多时要进行库存报溢，向系统库存中添加商品使一致。 |
| 参与者   | 库存管理人员，目标是正确的完成库存处理操作。                 |
| 触发条件 | 入库处理：供货商向库房发送进货申请、客户发出退货申请；<br />出库处理：需要向供货商退货、客户申请购买；<br />恰当时机需要赠送商品。 |
| 前置条件 | 库存管理人员已经被识别和授权。                               |
| 后置条件 | 系统中的库存数据自动更改。                                   |
| 正常流程 | 1. 供货商向库房发送进货申请，其提供的进货单在完成审批后，仓库管理人员会根据收到的消息完成进货，并自动生成入库单——包含时间、操作员、入库类型（进货）、这批商品的具体信息。<br />2. 客户发出退货申请，其提供的销售退货单在完成审批后，仓库管理人员会根据收到的消息完成进货，并自动生成入库单——包含时间、操作员、入库类型（买家退货）、这批商品的具体信息。<br />3. 为了减库存，退掉一批已经从供应商那里进的货，根据退货情况生成进货退货单，完成审批后仓库管理人员会根据收到的消息完成出货，并自动生成出库单——包含时间、操作员、出库类型（减库存）、这批商品的具体信息。<br />4. 售出一批货，根据出售情况生成销售单，完成审批后仓库管理人员会根据收到的消息完成出货，并自动生成出库单——包含时间、操作员、出库类型（销售）、这批商品的具体信息，。<br />5. 在恰当时机，如节假日或有库存积压情况，选择一些库存中的商品进行赠送，由赠送策略自动生成库存赠送单，提交后从库存中减去这些商品。 |
| 扩展流程 | 1a. 如果审批不通过，则不进货。<br />2a. 如果审批不通过，则不进货。<br />3a. 如果审批不通过，则不出货。<br />4a. 如果审批不通过，则不出货。<br /> |
| 特殊需求 | 1. 出库单、入库单的格式要统一，如时间格式、商品具体信息条目应一致。<br />2. 系统内人员中，仅应总经理和库存管理人员对上述表单有查看权限。 |

### 库存分析

| 项目     | 内容描述                                                     |
| -------- | ------------------------------------------------------------ |
| ID       | ERP.Inventory.Analysis                                       |
| 名称     | 对库存进行分析，包括库存查看和库存盘点。库存查看通过设定时间段查看此时间段内的出/入库数量/金额/商品信息/分类信息，并对库存数量进行合计。库存盘点的对象是当天的库存快照，包括当天的各种商品的名称，型号，库存数量，库存均价（商品的平均进价），批次批号，生产日期，并且显示行号。 |
| 参与者   | 库存管理人员，目标是对库存信息进行分析                       |
| 触发条件 | 库存管理人员准备开始对库存进行查看和盘点                     |
| 前置条件 | 库存管理人员已经被识别和授权                                 |
| 后置条件 | 仓库实际库存与系统记录库存数量不符时，生成库存报溢单或库存报损单，进行库存调整；仓库库存数量过低时，生成库存报警单提醒库存管理员 |
| 正常流程 | 1. 如果进行库存查看，库存管理员自主选择需要查看库存信息的时间段，并点击“查看库存”<br/>2. 系统识别时间段，并在数据库中将此时间段内的出/入库数量/金额/商品信息/分类信息选择出来，形成表格<br/>3. 系统对此时间段结束时的的库存数量进行合计<br/>4. 系统将根据时间段选择出的库存信息显示于系统页面，供库存管理人员查看<br/>5. 如果进行库存盘点，由库存管理人员选择“库存盘点”<br/>6. 系统受到库存盘点请求，立即在系统数据库中获取当天的各种商品的名称、型号、库存数量、库存均价（商品的平均进价）、批次批号、生产日期，并且显示行号<br/>7. 系统将获取到的库存快照形成表格的形式，提供给库存管理人员<br/>8. 库存管理人员此时可以选择将库存快照表格以Excel的形式导出并保存到本地<br/>9. 如果库存管理人员选择“导出为Excel格式”，系统将库存快照表格转为Excel表格，并保存到指定路径 |
| 扩展流程 | 1a.库存管理员未选择查看的时间段就点击“查看库存”，系统提示“未选择要查看的时间段”，并拒绝库存管理员发起的查看库存操作<br/>1b.管理员输入的时间段不在系统数据库允许的时间范围内，系统提示“当前选择时间错误”，并拒绝库存管理员发起的查看库存操作<br/>2a.选择的时间段内无库存信息，则返回一个空白表格<br/>9a.库存管理员选择将当前库存快照导出到本地保存，默认为保存到默认路径下；库存管理员也可以为导出的Excel表格选择指定的保存路径 |
| 特殊需求 | 1. 通过库存查看和库存盘点得到的库存商品信息表格必须要在最后标注库存总数、操作员(此处为本库存管理人员)身份信息、信息导出具体时间，以供后续人员使用与查验 <br/>2. 库存快照导出Excel表格默认命名为：“日期+时间+库存盘点信息” |

### 库存调整

| 项目     | 内容描述                                                     |
| -------- | ------------------------------------------------------------ |
| ID       | ERP.Inventory.Adjust                                         |
| 名称     | 库存调整：当实际库房中的商品数量与系统不一致时，库存管理人员操作系统生成报溢/报损单以调整系统库存 |
| 参与者   | 库存管理人员                                                 |
| 触发条件 | 库存管理人员进入库存调整页面                                 |
| 前置条件 | 库存管理人员已经被识别和授权                                 |
| 后置条件 | 更新系统中库存信息                                           |
| 正常流程 | 1. 系统显示库存调整页面，并提示用户选择报溢或者报损。<br />2.1 用户选择报溢或报损<br />2.2 系统显示库存中的商品信息并让用户进行选择<br />2.3 用户选中商品并输入新的库存数量<br />重复以上两步直到用户修改完所有库存信息<br />2.4 用户点击生成报溢/报损单<br />2.5 系统自动生成报溢/报损单并展示给用户，提示用户确认或返回继续修改<br />2.6 用户点击确认<br />2.7 系统将生成的表单加入待审批表单中<br /> |
| 扩展流程 | 2.6a. 用户点击返回继续修改则重复2.2之后的步骤                |
| 特殊需求 |                                                              |

### 库存报警

| 项目     | 内容描述                                                     |
| -------- | ------------------------------------------------------------ |
| ID       | ERP.Inventory.Alarm                                          |
| 名称     | 库存报警：库存管理人员可以设定警戒值，当系统中的库存数量低于警戒数量时系统会自动向仓库管理员发送消息 |
| 参与者   | 库存管理人员                                                 |
| 触发条件 | 库存管理人员进入系统                                         |
| 前置条件 | 库存管理人员已经被识别和授权                                 |
| 正常流程 | 1. 仓库管理人员进入系统选择库存警戒值设置<br />2. 系统展示设置界面并提示用户输入<br />3. 用户输入新的警戒值<br />4. 系统提示用户确认<br />5. 用户确认后系统显示新的警戒值 |
| 扩展流程 | 1.a 仓库管理员进入系统后，如果系统中的库存数量已经低于之前设定的警戒值，系统发送弹窗，显示当前库存数量和警戒值<br />1.a.1 用户点击确认消息，系统关闭弹窗但在主菜单显示警戒符号<br />系统不断显示警戒符号，直到库存修改/警戒值修改时检查当前库存且该库存值高于警戒值 |
| 特殊需求 | 系统向仓库管理员发送的消息要以浮动窗口的形式持续显示         |



### 账户管理

> 最后一次修改者：何浩达
>
> 最后一次修改日期：2022/07/07

| 项目     | 内容描述                                                     |
| -------- | ------------------------------------------------------------ |
| ID       | ERP.Financial.accountManagement                              |
| 名称     | 银行账户管理：财务人员可以增加账户、删除账户和查询账户信息   |
| 参与者   | 财务人员                                                     |
| 触发条件 | 财务人员进入系统                                             |
| 前置条件 | 财务人员已经被识别和授权                                     |
| 正常流程 | 1. 财务人员点击进入账户管理页面<br />2. 系统展示账户的账户名和余额信息<br />3. 财务人员点击“新增账户”<br />4. 系统弹出悬浮窗口，供财务人员输入新增账户信息<br />5. 点击确认后系统新增一条账户信息，显示在页面上<br>6. 点击“删除账户”并确认后，该条账户信息被删除 |

### 制订收款单

> 最后一次修改者：何浩达
>
> 最后一次修改日期：2022/07/07

| 项目     | 内容描述                                                     |
| -------- | ------------------------------------------------------------ |
| ID       | ERP.Financial.IncomeSheet                                    |
| 名称     | 收款单制定：财务人员可以制定一条新的收款单                   |
| 参与者   | 财务人员                                                     |
| 触发条件 | 财务人员进入系统                                             |
| 前置条件 | 财务人员已经被识别和授权                                     |
| 正常流程 | 1. 财务人员点击进入收款管理界面<br />2. 系统展示当前已有的收款单据的具体信息，分为“待审批”“审批完成”“审批失败”三类<br />3. 财务人员点击“制定收款单”，以制订一条新的收款单<br />4. 系统弹出悬浮窗口，供财务人员输入收款单的“客户”“商品”“金额”“备注”等信息<br />5. 点击确认后系统新增一条收款单据，显示在页面的“待审批”类中 |

### 制订付款单

> 最后一次修改者：何浩达
>
> 最后一次修改日期：2022/07/07

| 项目     | 内容描述                                                     |
| -------- | ------------------------------------------------------------ |
| ID       | ERP.Financial.OutcomeSheet                                   |
| 名称     | 付款单制定：财务人员可以制定付款单                           |
| 参与者   | 财务人员                                                     |
| 触发条件 | 财务人员进入系统                                             |
| 前置条件 | 财务人员已经被识别和授权                                     |
| 正常流程 | 1. 财务人员点击进入付款管理界面<br />2. 系统展示当前已有的付款单据的具体信息，分为“待审批”“审批完成”“审批失败”三类<br />3. 财务人员点击“制定付款单”，以制订一条新的付款单<br />4. 系统弹出悬浮窗口，供财务人员输入付款单的“客户”“商品”“金额”“备注”等信息<br />5. 点击确认后系统新增一条付款单据，显示在页面的“待审批”类中 |

### 管理工资发放单

> 最后一次修改者：何浩达
>
> 最后一次修改日期：2022/07/07

| 项目     | 内容描述                                                     |
| -------- | ------------------------------------------------------------ |
| ID       | ERP.Financial.GrantSheet                                     |
| 名称     | 工资发放单管理：财务人员可以查看所有工资发放单               |
| 参与者   | 财务人员                                                     |
| 触发条件 | 财务人员进入系统                                             |
| 前置条件 | 财务人员已经被识别和授权                                     |
| 正常流程 | 1. 财务人员点击进入“工资发放单管理”界面<br />2. 系统展示当前已有的工资发放单的具体信息，分为“待审批”“审批完成”“审批失败”三类，每条单据均可以被审核 |

### 查看销售明细表

> 最后一次修改者：何浩达
>
> 最后一次修改日期：2022/07/07

| 项目     | 内容描述                                                     |
| -------- | ------------------------------------------------------------ |
| ID       | ERP.Financial.SaleDetail                                     |
| 名称     | 销售明细表管理：财务人员可以查看、筛选、导出经营历程表       |
| 参与者   | 财务人员                                                     |
| 触发条件 | 财务人员进入系统                                             |
| 前置条件 | 财务人员已经被识别和授权                                     |
| 正常流程 | 1. 财务人员点击进入“销售明细表”页面<br />2. 系统展示所有的销售明细表单信息<br />3. 财务人员输入筛选的开始时间与结束时间，点击“筛选日期”后只显示在此时间范围内的销售明细信息<br />4. 财务人员可以对列进行筛选<br />5. 财务人员点击“导出EXCEL”，将当前页面显示所有销售明细信息导出为EXCEL并保存到本地 |
| 扩展流程 | 3.a 筛选的日期范围为空时点击“筛选日期”，会清空当前页面所有的销售明细信息，显示为空白 |

### 查看经营历程表

> 最后一次修改者：何浩达
>
> 最后一次修改日期：2022/07/07

| 项目     | 内容描述                                                     |
| -------- | ------------------------------------------------------------ |
| ID       | ERP.Financial.BusinessHistory                                |
| 名称     | 经营历程表管理：财务人员可以查看、筛选、导出经营历程表，并进行红冲与红冲复制 |
| 参与者   | 财务人员                                                     |
| 触发条件 | 财务人员进入系统                                             |
| 前置条件 | 财务人员已经被识别和授权                                     |
| 正常流程 | 1. 财务人员点击进入“经营历程表”页面<br />2. 系统展示所有的经营历程表单信息<br />3. 财务人员输入筛选的开始时间与结束时间，点击“筛选日期”后只显示在此时间范围内的经营历程信息<br />4. 财务人员可以对每一列进行筛选<br />5. 财务人员点击“查看单据细节”，系统显示该条经营历程的具体信息<br />6. 财务人员点击“导出EXCEL”，将当前页面显示所有经营历程信息导出为EXCEL并保存到本地<br />7. 财务人员点击“红冲”或“红冲复制”，系统对该条单据进行红冲或红冲复制操作 |
| 扩展流程 | 3.a 筛选的日期范围为空时点击“筛选日期”，会清空当前页面所有的经营历程信息，显示为空白 |

### 查看销售情况表

> 最后一次修改者：何浩达
>
> 最后一次修改日期：2022/07/07

| 项目     | 内容描述                                                     |
| -------- | ------------------------------------------------------------ |
| ID       | ERP.Financial.BusinessSituation                              |
| 名称     | 销售情况表管理：财务人员可以查看一段时间内的销售情况信息     |
| 参与者   | 财务人员                                                     |
| 触发条件 | 财务人员进入系统                                             |
| 前置条件 | 财务人员已经被识别和授权                                     |
| 正常流程 | 1. 财务人员点击进入“销售情况表”页面<br />2. 系统展示初始界面，所有栏目的信息此时均为空值<br />3. 财务人员在时间段选择栏中输入时间范围，并点击“查询”<br />4. 系统在每个栏目中显示出该时间段内的销售信息，包括“收入信息”“支出信息”和“汇总” |
| 扩展流程 | 3.a 筛选的日期范围为空时点击“筛选日期”，会清空当前页面所有的经营历程信息，显示为空白 |
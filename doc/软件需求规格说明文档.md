# ERP系统销售模块 软件需求规格说明文档

> #### 5A652 杨峥 何浩达 赵勇臻 张岳轩
>
> 最后更改于2022/7/XX

| 修改人员 | 日期     | 修改原因                                     | 版本号 |
| -------- | -------- | -------------------------------------------- | ------ |
| 何浩达   | 2022.7.3 | 增加设置岗位信息和员工打卡模块的功能需求描述 |        |
| 赵勇臻   | 2022.7.3 | 增加设置员工管理和创建工资单的需求描述       |        |
|          |          |                                              |        |

## 目录

[toc]

## 1.引言

> 最后一次修改者：XXX
>
> 最后一次修改日期：2021/07/05

### 1.1 目的

本文档描述了ERP系统的销售模块的功能需求和非功能需求。开发小组的软件系统实现和验证工作都以此文档为依据。

除特殊说明之外，本文档所包含的需求都是高优先级需求。

### 1.2 范围

ERP系统是为从事灯具开关行业的民营企业开发的业务系统，开发的目标是帮助该民营企业处理日常的重点业务，适应新的环境，提高工作效率和用户满意度。

通过ERP系统的应用，期望在本系统上线运行六个月后，减少积压的库存，增加销售额，提高财务人员和人力资源人员工作效率，为经理的决策做支持。

### 1.3 参考文献

* IEEE标准
* ERP系统用例文档（V1.0）

## 2.总体描述

> 最后一次修改者：XXX
>
> 最后一次修改日期：2021/07/05

### 2.1 产品前景

#### 2.1.1 背景与机遇

该民营企业专业从事灯具开关行业，是某著名开关品牌的南京地区总代理，主要在南京负责品牌的推广及项目的落地销售、分销的批发等工作，服务对象包括项目业主、施工单位、分销商、设计院、终端用户等。

随着该公司规模扩大，企业业务量、办公场所、员工数都发生大幅增长，原有的业务系统逐渐不能满足公司业务需要，出现系统响应缓慢、订单处理积压严重的现象，导致客源流失。其次，该公司也面临着比从前更大的竞争压力，希望在降低成本、吸引顾客、增强竞争力的同时，保持盈利水平。

ERP系统就是我公司为满足该公司急需适应新的环境、提高工作效率和用户满意度而开发的。该系统主要包括库存管理、销售管理、财务管理、人事管理和企业经营管理共五个模块，分别提供给库存管理人员、进货销售人员、财务人员、人力资源人员和总经理这五类人员使用，完成其在公司的全部业务工作。

#### 2.1.2 业务需求

* **BR 1：**在系统使用6个月后，库存积压的现象要减少50%
* **BR 2：**在系统使用6个月后，公司的销售额要增加30%
  * 最好情况：50%
  * 最可能情况：30%
  * 最坏情况：10%
* **BR 3：**在系统使用6个月后，财务人员和人力资源人员的工作效率要提高50%

### 2.2 产品功能

* **SF 1**：根据商品进出库情况，及时调整和管理库存，发现并解决可能出现的商品溢出、报损等情况
* **SF 2**：对商品进行分类，并同时对所分类别和商品本身进行管理和维护
* **SF 3**：完成商品销售和退货的全部流程，包括商品的流向和资金的流向
* **SF 4**：实现对公司全部客户相关信息的管理
* **SF 5**：对公司的资产流向进行管理和审查，实现对资金的严格把控
* **SF 6**：对公司全体员工的相关信息进行管理，及时调整员工变动和授权情况
* **SF 7**：制定促销策略进行销售竞争
* **SF 8**：划定、计算和审核员工年终奖，达到激励作用

### 2.3 用户特征

|     用户     |                           用户特征                           |
| :----------: | :----------------------------------------------------------: |
| 库存管理人员 | 公司仓库有1~2名库存管理人员，他们负责对商品分类和商品的信息的管理。当有商品进货入库、有商品销售出库时，他们需要填写相关的单据报给上层审批，报表审批通过后才允许对仓库内商品的操作；定期对仓库内商品进行盘点，统计一段时间内系统中记录商品的进出库情况，并与仓库中的商品数量的实际情况进行核对，一旦出现异常要及时调整。仓库管理人员能够简单使用办公信息化系统，不希望新系统增加现有工作量，对新系统基本持积极态度。 |
| 进货销售人员 | 公司有4~8名进货销售人员，他们的主要工作是完成进货单和销售单。当有商品进货/进货退货时，填写进货/退货单；当有商品销售/销售退货时，填写销售/退货单。他们将报表提交上级审批，审批通过后完成相关的进货、销售、退货等操作。同时，作为与公司客户直接联系的人员，他们也负责对客户的信息进行查看和管理，以便公司能够更好、更及时、更完整地实时把握客户信息。进货销售人员不希望新系统增加现有工作量，对新系统基本持积极态度。 |
|   财务人员   | 公司有1~2名财务人员，他们主要负责把控公司整体的资金流动情况。公司的银行账户只能由财务人员进行操作。当公司发生涉及资金流动的操作（如：进货售货的收付款、工资员工的发放、报销等）时，由财务人员填写报表交由上级领导审批，审批通过之后由财务人员前往银行对公司账户的资金进行操作。同时，财务人员还有权查看公司的经营历程表和经营情况表，以便更好的把握公司的经营状况，将异常状况及时报告给经理。财务人员还应在期初负责建账，并备份留底以供后续查验。由于财务人员工作主要在计算机上操作，因此他们使用办公信息化系统的能力较强。同时，财务人员不希望新系统增加现有工作量，对新系统持积极态度。 |
| 人力资源人员 | 公司有1~2名人力资源人员，他们主要负责一切与公司员工相关的工作。新员工入职时，由人力资源人员负责员工信息登记。当员工的岗位、授权发生变动时，由人力资源人员在系统中进行修改。员工每日需进行考勤打卡，由人力资源人员负责统计和监督。每月月末，由人力资源人员根据每位员工该月的各项表现核算员工当月工资，并报由总经理审批。人力资源人员使用办公信息化系统的能力较强，不希望新系统增加现有工作量，对新系统持积极态度。 |
|    总经理    | 公司共有2名总经理，他们是公司的高层管理者与决策者。其他四类人员填写好的报表，最终都要由总经理进行审核。同财务人员一样，总经理也可以查看公司的经营历程表和经营情况表，以便直接把握公司的经营状况。总经理还负责促销策略的制定，负责库存赠送单的审核。总经理能够熟练使用办公信息化系统，对新系统持积极态度。 |

### 2.4 约束

* **CON 1：**系统将运行在Window Xp操作系统上
* **CON 2：**系统不使用Web界面，而是图形界面
* **CON 3：**项目要使用持续集成方法进行开发
* **CON 4：**在开发中，开发者要提交软件需求规格说明文档、设计描述文档和测试报告

### 2.5 假设和依赖

* **AE 1：**新一批商品每天的出库量与上一批商品每天的出库量基本相同，商品的出库情况比较稳定
* **AE 2：**一个额度的赠送促销会自动包含所有比它小的额度的促销赠送商品

## 3 详细需求描述

### 3.1 对外接口需求

> 最后一次修改者：XXX
>
> 最后一次修改日期：2021/07/05

#### 用户界面(销售模块)

* **UI1**:销售处理
  * UI1.1 在销售人员输入开始指定销售单命令时，系统应该展开销售单填写页面，一部分表项由系统自动生成(单据编号、业务员、操作员、金额等)并可修改，另一部分表项等待销售员输入
    * UI1.1.1 销售员可以修改/填写各表项，发送填写完毕命令时，系统要回显单据内容并等待销售员确认。
      * UI1.1.1.1 系统检查有误则高亮显示错误表项。
* **UI2**:销售分析
  * UI2.1 在销售人员发送开始销售分析命令时，系统应该展开销售分析页面，等待用户输入销售人员和时间区间
    * 用户输入正确后，系统检索并返回指定人员和时间区间内最大的客户
    * 用户输入错误，系统显示错误信息

### 3.2 功能需求

#### 3.2.1 创建工资单

> 最后一次修改者：赵勇臻
>
> 最后一次修改日期：2022/07/03

#####  特性描述

人力资源人员为某一员工创建工资单，系统生成工资单并等待三级审批。

优先级 = 高

##### 刺激响应序列

刺激：人力资源管理人员开始创建工资单。

响应：系统弹出弹窗供选择目标员工。

刺激：人力资源管理人员选择一个员工。

响应：员工字段被填写。

刺激：人力资源管理人员点击确认。

响应：相应员工的工资单在系统中被创建。



##### 相关功能需求

|                             |                                      |
| --------------------------- | ------------------------------------ |
| Employee.createSalarySheet  | 开始创建工资单任务，弹出信息填写框   |
| Employee.SalarySheet.Input  | 选择员工编号                         |
| Employee.SalarySheet.Submit | 填写完成后提交，系统创建相应的工资单 |

#### 3.2.1 员工管理

> 最后一次修改者：赵勇臻
>
> 最后一次修改日期：2022/07/03

#####  特性描述

人力资源管理人员在员工管理页面点击新建员工，并输入员工的信息（姓名、性别、出生日期、手机、工作岗位、基本工资、岗位工资、岗位级别、薪资计算方式、薪资方法方式、工资卡账户），系统入职后自动创建相应账号。

优先级 = 高

##### 刺激响应序列

刺激：人力资源管理人员开始创建任务。

响应：系统弹出员工信息填写框。

刺激：人力资源管理人员填写员工基本信息。

响应：员工基本信息被修改。

刺激：人力资源管理人员点击确定。

响应：系统新增员工，并为之创建账号。

刺激：人力资源管理人员点击一个员工信息旁的查看账户按钮。

响应：系统弹窗显示该员工账户信息。

##### 相关功能需求

|                            |                                            |
| -------------------------- | ------------------------------------------ |
| Employee.CreateEmployee    | 开始创建任务，弹出信息填写框               |
| Employee.Employee.Input    | 填写基本信息                               |
| Employee.Employee.Submit   | 填写完成后提交，系统新增员工并为之创建账号 |
| Employee.Employee.FindUser | 系统弹窗显示相应员工的账户信息             |

#### 3.2.1 设置岗位信息

> 最后一次修改者：何浩达
>
> 最后一次修改日期：2022/07/03

##### 3.2.1.1 特性描述

人力资源人员根据岗位变动的实际需求在系统内填写岗位变更信息表单，表单包括基本工资、岗位工资、岗位级别、薪资计算方式、薪资发放方式。此表单提交之后，会更改对应岗位的相应信息。

优先级 = 高

##### 3.2.1.2 刺激响应序列

刺激：人力资源人员开始设置岗位信息

响应：系统生成岗位变更信息表单，待设置字段均为当前所设置的值

刺激：人力资源人员输入岗位基本工资

响应：表单中岗位基本工资被修改

刺激：人力资源人员输入岗位工资

响应：表单中岗位工资被修改

刺激：人力资源人员输入岗位级别

响应：表单中岗位级别被修改

刺激：人力资源人员选择薪资计算方式

响应：表单中薪资计算方式被修改

刺激：人力资源人员选择薪资发放方式

响应：表单中薪资发放方式被修改

##### 3.2.1.3 相关功能需求

|                                                              |                                                              |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| Job.GenerateDocument                                         | 人力资源人员通过系统生成岗位信息变更表单                     |
| Job.HR.Input<br>Job.HR.Input.basic_salary<br/>Job.HR.Input.job_salary<br/>Job.HR.Input.level<br/>Job.HR.Input.level.calculate_method<br/>Job.HR.Input.level.payment_method | 系统现在应该允许人力资源人员输入岗位信息变更表单的信心<br>人力资源人员输入基本工资<br/>人力资源人员输入岗位工资<br/>人力资源人员输入岗位等级<br/>人力资源人员输入岗位薪资计算方式<br/>人力资源人员输入岗位薪资发放方式 |
| Job.HR.Send                                                  | 人力资源人员选择确认提交填写好的岗位信息变更表单             |
| Job.Update.updateStorehouse                                  | 岗位信息设置完成后，系统应该更新仓库数据                     |

#### 3.2.2 员工打卡

> 最后一次修改者：何浩达
>
> 最后一次修改日期：2022/07/03

##### 3.2.2.1 特性描述

除总经理之外的员工：人力资源人员、仓库管理人员、销售人员、财务人员，每个工作日都需要在系统内进行打卡。点击打卡按钮即可进行打卡操作，系统会提示“打卡成功”。

优先级 = 高

##### 3.2.2.2 刺激/响应序列

刺激：员工登录进入系统主页面，点击左侧边栏的“打卡“按钮

响应：系统将员工的当月打卡次数加一，并回显信息“打卡成功”

##### 3.2.2.3 相关功能需求

|              |                                  |
| ------------ | -------------------------------- |
| SignIn.Click | 系统应该允许员工点击“打卡”按钮   |
| SignIn.Add   | 系统为当前员工的当月打卡天数加一 |
| SignIn.Show  | 系统回显员工操作的结果信息       |

#### 3.2.1 销售处理

##### 3.2.1.1 特性描述

客户与一个经过验证的销售人员交流并表达需求，该销售人员根据客户提供的信息和系统内相关数据生成销售单，包括单据编号、客户、业务员、操作员、折让前金额、折让、使用代金券金额、折让后总额、商品清单和备注，此单据通过审批后，会更改库存数据和客户的应收应付数据。

优先级 = 高

##### 3.2.1.2 刺激响应序列

刺激：销售人员开始销售任务。

响应：系统生成销售单，单据编号自动生成，操作员为该销售人员，其余字段为空值。

刺激：销售人员输入客户的编号或姓名。

响应：销售单中客户、业务员（默认）字段被填写。

刺激：销售人员主动修改业务员。

响应：业务员从默认业务员被修改成销售人员输入的业务员。

刺激：销售人员输入折让前总额、折让、使用代金卷金额。

响应：销售单中折让前总额、折让、使用代金卷金额和折让后金额（自动计算）字段被填写。

刺激：销售人员输入其他信息（仓库、备注、商品信息）

响应：仅填写对应信息字段。

刺激：销售人员提交已完成的销售单。

响应：该销售单流动到销售经理、总经理，等待审批。

刺激：销售经理、总经理完成对单据的审批。

响应：销售完成，系统更改库存数据和客户的应收应付数据。

##### 3.2.1.3 相关功能需求

|                                                              |                                                              |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| Sale.GenerateSalesDocument<br />                             | 销售人员可以通过系统生成销售处理单<br />                     |
| Sale.Sales.Input<br />Sale.Sales.Input.Client<br />Sale.Sales.Input.Salesman<br />Sale.Sales.Input.Amount<br />Sale.Sales.Input.Commodity<br />Sale.Sales.Input.Storehouse<br />Sale.Sales.Input.Remark<br>Sale.Sales.Input.Del | 系统应该允许销售人员输入销售单信息<br />在销售人员输入客户编号或姓名后，系统应填写销售单中客户、业务员（默认）字段，参见Sale.Sales.Client<br />在销售人员主动修改业务员后，系统应更改销售单的业务员字段<br />在销售人员输入金额信息后，系统应填写销售单的金额信息，参见Sale.Sales.Amount<br />在销售人员输入销售商品信息后，系统应填写销售单的商品信息字段，参见Sale.Sales.Commodity<br />在销售人员输入仓库后，系统应填写销售单的仓库字段<br />在销售人员输入备注后，系统应填写销售单的备注字段<br>系统删除当前正在填写的信息 |
| Sale.Sales.Client<br />Sale.Sales.Client.create              | 系统显示客户信息<br />当销售人员输入客户编号或姓名后，如果不存在，则应该创建新客户 |
| Sale.Sales.Amount<br />Sale.Sales.Amount.afterDiscount       | 系统显示销售金额信息<br />系统能根据折让前金额、折让、使用代金卷金额计算出折让后金额 |
| Sale.Sales.Commodity<br />Sale.Sales.Commodity.Name<br />Sale.Sales.Commodity.Quantity | 系统显示销售商品信息<br />系统应该允许销售人员从商品选择界面选择商品名称<br />系统应该允许销售人员手工输入商品数量 |
| Sale.Send<br>                                                | 销售人员选择发送填写完成的表单<br>                           |
| Sale.Approve.levelOne<br />Sale.Approve.levelTwo<br>         | 销售单被递交后，系统应该让销售经理进行一级审批<br />一级审批通过后，系统应该让总经理进行二次审批 |
| Sale.Update.updateStorehouse<br />Sale.Update.updateClient   | 销售处理完成后，系统应该更新仓库数据<br />销售处理完成后，系统应该更新客户应收应付信息 |

#### 3.2.2 销售退货处理

##### 3.2.2.1 特性描述

销售商客户向商家递交退货申请，一个经过验证的销售人员开始处理销售退货，根据客户提供的退货信息和系统内相关数据生成销售退货单，包括单据编号、客户、业务员、操作员、折让前金额、折让、使用代金券金额、折让后总额、退货商品清单和备注，此单据通过审批后，会更改库存数据和客户的应收应付数据。

优先级 = 高

##### 3.2.2.2 刺激/响应序列

刺激：销售人员开始销售退货任务。

响应：系统生成销售退货单，单据编号自动生成，操作员为该销售人员，其余字段为空值。

刺激：销售人员输入退货客户的编号或姓名。

响应：退货单中客户、业务员（默认）字段被填写。

刺激：销售人员主动修改业务员。

响应：业务员从默认业务员被修改成销售人员输入的业务员。

刺激：销售人员输入折让前总额、折让、使用代金卷金额。

响应：退货单中折让前总额、折让、使用代金卷金额和折让后金额（自动计算）字段被填写。

刺激：销售人员输入其他信息（仓库、备注、退货商品信息）

响应：仅填写对应信息字段。

刺激：销售人员提交已完成的销售退货单。

响应：该销售退货单流动到销售经理、总经理，等待审批。

刺激：销售经理、总经理完成对单据的审批。

响应：销售退货完成，系统更改库存数据和客户的应收应付数据。

##### 3.2.2.3 相关功能需求

|                                                              |                                                              |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| Sale.GenerateReutrnDocument<br />                            | 销售人员可以通过系统生成销售退货单<br />                     |
| Sale.ReturnDocument.Input<br />Sale.ReturnDocument.Input.Client<br />Sale.ReturnDocument.Input.Salesman<br />Sale.ReturnDocument.Input.Amount<br />Sale.ReturnDocument.Input.Commodity<br />Sale.ReturnDocument.Input.Storehouse<br />Sale.ReturnDocument.Input.Remark<br>Sale.ReturnDocument.Input.Del | 系统应该允许销售人员输入销售退货单信息<br />在销售人员输入退货客户编号或姓名后，系统应填写退货单中客户、业务员（默认）字段，参见Sale.ReturnDocument.Client<br />在销售人员主动修改业务员后，系统应更改退货单的业务员字段<br />在销售人员输入金额信息后，系统应填写退货单的金额信息，参见Sale.ReturnDocument.Amount<br />在销售人员输入退货商品信息后，系统应填写退货单的退货商品信息字段，参见Sale.ReturnDocument.Commodity<br />在销售人员输入仓库后，系统应填写退货单的仓库字段<br />在销售人员输入备注后，系统应填写退货单的备注字段<br>系统删除当前正在填写的信息 |
| Sale.ReturnDocument.Client<br />Sale.ReturnDocument.Client.create | 系统显示退货客户信息<br />当销售人员输入客户编号或姓名后，如果不存在，则应该创建新客户 |
| Sale.ReturnDocument.Amount<br />Sale.ReturnDocument.Amount.afterDiscount | 系统显示退货金额信息<br />系统能根据折让前金额、折让、使用代金卷金额计算出折让后金额 |
| Sale.ReturnDocument.Commodity<br />Sale.ReturnDocument.Commodity.Name<br />Sale.ReturnDocument.Commodity.Quantity | 系统显示退货商品信息<br />系统应该允许销售人员从商品选择界面选择商品名称<br />系统应该允许销售人员手工输入商品数量 |
| Sale.Send<br>                                                | 销售人员选择发送填写完成的表单<br>                           |
| Sale.Approve.levelOne<br />Sale.Approve.levelTwo<br>         | 销售退货单被递交后，系统应该让销售经理进行一级审批<br />一级审批通过后，系统应该让总经理进行二次审批 |
| Sale.Update.updateStorehouse<br />Sale.Update.updateClient   | 销售处理完成后，系统应该更新仓库数据<br />销售处理完成后，系统应该更新客户应收应付信息 |

#### 3.2.3 销售分析

##### 3.2.3.1 特性描述

销售人员可以查询某个销售人员某个时间段成交金额（订单数）最大的客户。

##### 3.2.3.2  刺激响应序列

刺激：销售人员查询某个销售人员某个时间段成交金额（订单数）最大的客户。

响应：系统显示该销售人员该时间段成交金额（订单数）最大的客户。

##### 3.2.3.3 相关功能需求

|              |                                                              |
| ------------ | ------------------------------------------------------------ |
| Sale.Analyse | 销售人员查询某个销售人员某个时间段成交金额（订单数）最大的客户,系统显示相关信息 |



### 3.3 性能需求

> 最后一次修改者：XXX
>
> 最后一次修改日期：2021/07/05

#### 3.3.1 安全性

* S1:系统只允许经过验证和授权的用户访问
* S2:系统应该按照用户身份验证用户的访问权限
* S3:系统只有一个默认的管理员账户，账号为admin，初始密码为admin，只有其可以管理用户账户的信息和权限

#### 3.3.2 可维护性

* 在系统的商品标识数据格式发生变化时，系统要能在3人1天内完成
* 如果系统要增加新的特价和赠送类型要能够在0.25个人月内完成
* 如果系统要增加新的会员服务，要能够在0.25人月内完成

#### 3.3.3 易用性



#### 3.3.4 可靠性

* 在客户端与服务器通信时，如果网络故障，系统不能出现故障
* 客户端应该检测到故障，并尝试重新连接网络3次，每次15秒

#### 3.3.5 业务规则



#### 3.3.6 约束

* 系统要支持用户远程使用
* 系统使用Spring boot + Vue开发

### 3.4 数据需求

> 最后一次修改者：XXX
>
> 最后一次修改日期：2021/07/05

* 系统需要存储的数据实体如下：
  * 商品分类信息(编号, 父分类)
  * 商品信息(编号, 名称, 型号， 库存数量， 进价，零售价，最近进价，最近零售价，生产日期)
  * 入/出库单据信息(时间，操作员，类型，商品信息)
  * 客户信息(编号、分类（供应商、销售商）、级别、姓名、电话、地址、邮编、电子邮箱、应收额度、应收、应付、默认业务员
  * 进货单据信息(单据编号，供应商，仓库，操作员，入库商品列表，备注，总额合计)
  * 销售单据信息(单据编号，客户，业务员，操作员，仓库，出货商品清单，折让前总额，折让，使用代金卷金额，折让后总额，备注
  * 收款单据信息(单据编号（SKD-yyyyMMdd-xxxxx），客户，操作员，转账列表，总额汇总。转账列表中的一项包含：银行账户，转账金额，备注
  * 工资单据信息(单据编号、员工编号、姓名、银行账户信息、应发工资、扣除税款,实发金额

* 系统需要存储主要操作的日志，并对经理和财务人员提供查询功能

### 3.5 其它需求

> 最后一次修改者：XXX
>
> 最后一次修改日期：2021/07/05

* 安装系统时要初始化用户、商品库存等重要数据

  